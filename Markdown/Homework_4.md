# Homework_4 #

### P4 ###

1. 存在HOL阻塞的情况，时隙的**最小**数量为3
   * 第1个时隙中：输入端口1传送到X，端口2传送到Y，端口3被HOL阻塞
   * 第2个时隙中：输入端口2传送到X，端口3传送到Y
   * 第3个时隙中：输入端口3传送到Z
2. 无HOL阻塞，时隙的**最大**数量为3
   * 第1个时隙中：输入端口1传送到X，端口3传送到Y，端口2被阻塞（输出端口X，Y都被占用）
   * 第2个时隙中：输入端口2传送到Y/X，端口3传送到Z
   * 第3个时隙中：输入端口2传送到X/Y

### P5 ###

a.

| 匹配前缀          | 链路接口 |
| ----------------- | -------- |
| 1110000 00        | 0        |
| 11100000 01000000 | 1        |
| 1110000           | 2        |
| 11100001 1        | 3        |
| otherwise         | 3        |

b.

1. 3
2. 2
3. 3

### P11 ###

1. 分配给该网络的IP地址应该保证最后一位以10开头

   1000 0000 ... 1011 1111 转换为十进制为 128 ... 191

   IP 地址可以的范围是：128.119.40.128 ~ 128.119.40.191

2. 128.119.40.64/26 地址块中共有 64 个地址，要分配出4个子网，则每个子网中的地址数量为 $64/4 = 16 = 2^4$ 因此掩码的位数应该是 32 - 4 = 28

   子网1：0100 0000 128.119.40.64/28

   子网2：0101 0000 128.119.40.80/28

   子网3：0110 0000 128.119.40.96/28

   子网4：0111 0000 128.119.40.112/28

### P16 ###

a. 三台家庭网络主机的IP地址为 192.168.1.1、192.168.1.2、192.168.1.3，路由器接口的地址为 192.168.1.4

b. 

| WAN端               | LAN端             |
| ------------------- | ----------------- |
| 24.34.112.235, 6000 | 192.168.1.1, 3345 |
| 24.34.112.235, 6001 | 192.168.1.1, 3346 |
| 24.34.112.235, 6002 | 192.168.1.2, 3345 |
| 24.34.112.235, 6003 | 192.168.1.2, 3346 |
| 24.34.112.235, 6004 | 192.168.1.3, 3345 |
| 24.34.112.235, 6005 | 192.168.1.3, 3346 |

### P19 ###

1. 来自主机h5/h6发往h1/h2 的数据报通过过输出端口2 转发到 输入端口1

   | 匹配                                                     | 动作       |
   | -------------------------------------------------------- | ---------- |
   | Ingress Port =2 IP Src = 10.3.\*.\* IP Dest = 10.1.\*.\* | Foward (1) |

   

2. 来自主机h1/h2发往h5/h6 的数据报通过过输出端口1 转发到 输入端口2

   | 匹配                                                     | 动作       |
   | -------------------------------------------------------- | ---------- |
   | Ingress Port =1 IP Src = 10.1.\*.\* IP Dest = 10.3.\*.\* | Foward (2) |

3. 任何在端口1/2到达并发往主机h3/h4的数据报应当传递到特定的主机

   | 匹配                               | 动作       |
   | ---------------------------------- | ---------- |
   | Ingress Port =1 IP Dest = 10.2.0.3 | Foward (3) |
   | Ingress Port =2 IP Dest = 10.2.0.3 | Foward (3) |
   | Ingress Port =1 IP Dest = 10.2.0.4 | Foward (4) |
   | Ingress Port =2 IP Dest = 10.2.0.4 | Foward (4) |

4. 主机h3和h4能够向彼此发送数据

   | 匹配            | 动作       |
   | --------------- | ---------- |
   | Ingress Port =3 | Foward (4) |
   | Ingress Port =4 | Foward (3) |